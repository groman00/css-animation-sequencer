!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.CSSAnimationSequencer=e()}}(function(){var e,t,n;return function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){function o(){r.transitionSupport()}var r=e("./lib/utils.js"),i=e("./lib/registry.js");o.prototype.run=function(e,t){var n=t.length-1,o=0;!function a(){var s=t[o],d=s.method||"add",l=function(t){console.log(t.target),o<n?(o++,a()):i.remove(e),s.callback&&s.callback.apply(null,[])};if(s.node)for(var u=r.selectAll(s.node,e),f=u.length-1;f>=0;f--)!function(e){u[e].addEventListener("transitionend",function(t){t.stopPropagation(),t.target.removeEventListener("transitionend",arguments.callee),s.suppress||0===e&&l(t)})}(f);i.add(e,l),"add"===d?r.addClass(e,s.key):r.removeClass(e,s.key)}()},t.exports=o},{"./lib/registry.js":2,"./lib/utils.js":3}],2:[function(e,t,n){function o(e){var t=e+Math.floor(1e5*Math.random());return a[t]?void o():t}function r(e,t){var n=o(e.tagName);a[n]=t,e.dataset.id&&i(e),e.dataset.id=n,e.addEventListener("transitionend",t)}function i(e){e.removeEventListener("transitionend",a[e.dataset.id]),delete a[e.dataset.id],delete e.dataset.id}var a={};t.exports.add=r,t.exports.remove=i},{}],3:[function(e,t,n){function o(){}var r=document;o.prototype.select=function(e,t,n){return"object"!=typeof t&&(t=t?r.querySelectorAll(t)[0]:r),n=n||0,t.querySelectorAll(e)[n]},o.prototype.selectAll=function(e,t){return"object"!=typeof t&&(t=t?r.querySelectorAll(t)[0]:r),t.querySelectorAll(e)},o.prototype.transitionSupport=function(){var e=document.createElement("css-animation-sequencer"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1},o.prototype.addClass=function(e,t){var n;for(t=t.split(" "),n=t.length;n;)n-=1,e.classList.add(t[n])},o.prototype.removeClass=function(e,t){var n;for(t=t.split(" "),n=t.length;n;)n-=1,e.classList.remove(t[n])},t.exports=new o},{}]},{},[1])(1)});