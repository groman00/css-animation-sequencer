!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.CSSAnimationSequencer=e()}}(function(){var e,t,n;return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){function r(){o.transitionSupport()}var o=e("./lib/utils.js"),i=e("./lib/registry.js");r.prototype.run=function(e,t){var n=t.length-1,r=0;!function a(){function s(t){r<n?(r++,a()):i.remove(e),u.callback&&u.callback.apply(null,[])}var d,l,u=t[r],f=u.method||"add";if(u.node)for(d=o.selectAll(u.node,e),l=d.length-1;l>=0;l--)!function(e){d[e].addEventListener("transitionend",function t(n){n.stopPropagation(),n.target.removeEventListener("transitionend",t),u.suppress||0!==e||s(n)})}(l);i.add(e,s),"add"===f?o.addClass(e,u.key):o.removeClass(e,u.key)}()},t.exports=r},{"./lib/registry.js":2,"./lib/utils.js":3}],2:[function(e,t,n){function r(e){var t=e+Math.floor(1e5*Math.random());return a[t]?r():t}function o(e){var t=e;t.removeEventListener("transitionend",a[t.dataset.id]),delete a[t.dataset.id],delete t.dataset.id}function i(e,t){var n=e,i=r(n.tagName),s=t;a[i]=s,n.dataset.id&&o(n),n.dataset.id=i,n.addEventListener("transitionend",s)}var a={};t.exports.remove=o,t.exports.add=i},{}],3:[function(e,t,n){function r(){}var o=document;r.prototype.select=function(e,t,n){var r=t;return"object"!=typeof t&&(r=t?o.querySelectorAll(t)[0]:o),r.querySelectorAll(e)[n||0]},r.prototype.selectAll=function(e,t){var n=t;return"object"!=typeof t&&(n=t?o.querySelectorAll(t)[0]:o),n.querySelectorAll(e)},r.prototype.transitionSupport=function(){var e,t=document.createElement("css-animation-sequencer"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return{end:n[e]};return!1},r.prototype.addClass=function(e,t){for(var n=t.split(" "),r=n.length;r;)r-=1,e.classList.add(n[r])},r.prototype.removeClass=function(e,t){for(var n=t.split(" "),r=n.length;r;)r-=1,e.classList.remove(n[r])},t.exports=new r},{}]},{},[1])(1)});