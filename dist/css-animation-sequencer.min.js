!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.CSSAnimationSequencer=e()}}(function(){var e,t,n;return function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){function o(){r.transitionSupport()}var r=e("./lib/utils.js"),i=e("./lib/registry.js");o.prototype.run=function(e,t){var n=t.length-1,o=0;!function a(){function s(t){o<n?(o++,a()):i.remove(e),u.callback&&u.callback.apply(null,[])}var d,l,u=t[o],f=u.method||"add";if(u.node)for(d=r.selectAll(u.node,e),l=d.length-1;l>=0;l--)!function(e){d[e].addEventListener("transitionend",function(t){t.stopPropagation(),t.target.removeEventListener("transitionend",arguments.callee),u.suppress||0===e&&s(t)})}(l);i.add(e,s),"add"===f?r.addClass(e,u.key):r.removeClass(e,u.key)}()},t.exports=o},{"./lib/registry.js":2,"./lib/utils.js":3}],2:[function(e,t,n){function o(e){var t=e+Math.floor(1e5*Math.random());return a[t]?void o():t}function r(e,t){var n=o(e.tagName);a[n]=t,e.dataset.id&&i(e),e.dataset.id=n,e.addEventListener("transitionend",t)}function i(e){e.removeEventListener("transitionend",a[e.dataset.id]),delete a[e.dataset.id],delete e.dataset.id}var a={};t.exports.add=r,t.exports.remove=i},{}],3:[function(e,t,n){function o(){}var r=document;o.prototype.select=function(e,t,n){var o=t;return"object"!=typeof t&&(o=t?r.querySelectorAll(t)[0]:r),o.querySelectorAll(e)[n||0]},o.prototype.selectAll=function(e,t){var n=t;return"object"!=typeof t&&(n=t?r.querySelectorAll(t)[0]:r),n.querySelectorAll(e)},o.prototype.transitionSupport=function(){var e,t=document.createElement("css-animation-sequencer"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return{end:n[e]};return!1},o.prototype.addClass=function(e,t){for(var n=t.split(" "),o=n.length;o;)o-=1,e.classList.add(n[o])},o.prototype.removeClass=function(e,t){for(var n=t.split(" "),o=n.length;o;)o-=1,e.classList.remove(n[o])},t.exports=new o},{}]},{},[1])(1)});